let val = 0;
function get () ->
  begin
  let v = val;
  val <- v + 1;
  v
  end;
let arr = array(10, get());
/* [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] *\

val <- 0;
arr <- array(10, begin get() end);
/* [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] *\